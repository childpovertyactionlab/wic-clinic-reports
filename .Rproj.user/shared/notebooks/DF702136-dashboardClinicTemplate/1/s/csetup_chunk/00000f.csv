"0","library(tidyverse)"
"2","â”€â”€ [1mAttaching core tidyverse packages[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 2.0.0 â”€â”€
[32mâœ”[39m [34mdplyr    [39m 1.1.3     [32mâœ”[39m [34mreadr    [39m 2.1.4
[32mâœ”[39m [34mforcats  [39m 1.0.0     [32mâœ”[39m [34mstringr  [39m 1.5.0
[32mâœ”[39m [34mggplot2  [39m 3.4.3     [32mâœ”[39m [34mtibble   [39m 3.2.1
[32mâœ”[39m [34mlubridate[39m 1.9.2     [32mâœ”[39m [34mtidyr    [39m 1.3.0
[32mâœ”[39m [34mpurrr    [39m 1.0.2     "
"2","â”€â”€ [1mConflicts[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€
[31mâœ–[39m [34mdplyr[39m::[32mfilter()[39m masks [34mstats[39m::filter()
[31mâœ–[39m [34mdplyr[39m::[32mlag()[39m    masks [34mstats[39m::lag()
[36mâ„¹[39m Use the ]8;;http://conflicted.r-lib.org/conflicted package]8;; to force all conflicts to become errors"
"0","library(googlesheets4)"
"0","library(tsutils)"
"2","Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo 
"
"0","library(plotly)"
"2","Registered S3 method overwritten by 'data.table':
  method           from
  print.data.table     
"
"2","Registered S3 method overwritten by 'htmlwidgets':
  method           from         
  print.htmlwidget tools:rstudio
"
"2","
Attaching package: â€˜plotlyâ€™

"
"2","The following object is masked from â€˜package:ggplot2â€™:

    last_plot

"
"2","The following object is masked from â€˜package:statsâ€™:

    filter

"
"2","The following object is masked from â€˜package:graphicsâ€™:

    layout

"
"0","library(readxl)"
"0","library(glue)"
"0","library(stringr)"
"0","library(waffle)"
"0","library(forecast)"
"2","This is forecast 8.21.1 
  Crossvalidated is a great place to get help on forecasting issues:
  http://stats.stackexchange.com/tags/forecasting.
"
"0","library(tsibble)"
"2","
Attaching package: â€˜tsibbleâ€™

"
"2","The following object is masked from â€˜package:lubridateâ€™:

    interval

"
"2","The following objects are masked from â€˜package:baseâ€™:

    intersect, setdiff, union

"
"0","library(cpaltemplates)"
"2","
Attaching package: â€˜cpaltemplatesâ€™

"
"2","The following objects are masked from â€˜package:ggplot2â€™:

    geom_bar, geom_col, scale_color_discrete, scale_color_gradientn,
    scale_color_ordinal, scale_colour_discrete, scale_colour_gradientn,
    scale_colour_ordinal, scale_fill_discrete, scale_fill_gradientn,
    scale_fill_ordinal

"
"0","clinic_name = params$clinic_name"
"0",""
"0","data_dir <- ""C:/Users/taylo/CPAL Dropbox/Benefits Delivery/04_Projects/WIC/WIC Dashboards/data/scriptData/"""
"0",""
"0","files <- list.files(path = data_dir, pattern = ""\\.csv$"")"
"0",""
"0","for (file in files) {"
"0","  file_name <- tools::file_path_sans_ext(file)"
"0","  if (file_name == ""ptcp"") {"
"0","    assign(gsub(""__"", ""\\."", file_name), read_csv(file = paste0(data_dir, file)) %>%"
"0","             rename(Date = colnames(.)[1]) %>%"
"0","             mutate(Date = as.Date(Date)))"
"0","  } else {"
"0","    assign(gsub(""__"", ""\\."", file_name), read_csv(file = paste0(data_dir, file)))"
"0","  }"
"0","}"
"2","[1mRows: [22m[34m17[39m [1mColumns: [22m[34m6[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (6): Site, Breastfeeding, Child, Infant, Post-Partum, Pregnant"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m17[39m [1mColumns: [22m[34m26[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (26): Site, Less than 1 year, 1 year, 2 years, 3 years, 4 years, 5 years, 6 yea..."
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m17[39m [1mColumns: [22m[34m16[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (16): Site, Less than 1 year, 1 year, 2 years, 3 years, 4 years, 5 years, 6 yea..."
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m17[39m [1mColumns: [22m[34m39[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (39): Site, Amharic, Arabic, ASL, Bengali, Burmese, Cambodian, Cantonese, Chin,..."
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m17[39m [1mColumns: [22m[34m6[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (6): Site, Active, Certified, Certified - Pending Signature, Not Certified, Pro..."
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m17[39m [1mColumns: [22m[34m495[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m (495): Site, 75001, 75002, 75006, 75007, 75009, 75010, 75013, 75014, 75017, 750..."
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m16[39m [1mColumns: [22m[34m3[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (2): Clinic, Manager
[32mdbl[39m (1): Site"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m16[39m [1mColumns: [22m[34m6[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (2): Manager, Clinic
[32mdbl[39m (4): Site, lat, long, index"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m440[39m [1mColumns: [22m[34m9[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (1): Clinic
[32mdbl[39m  (7): Site, CSAT, CSAT (n), CSAT Points, Wednesday Hours, Thursday Hours, Frida...
[34mdttm[39m (1): Date"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m90[39m [1mColumns: [22m[34m4[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[32mdbl[39m  (3): CSAT, CSAT (n), Site
[34mdate[39m (1): Date"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m311[39m [1mColumns: [22m[34m45[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m   (2): Clinic, Manager
[32mdbl[39m  (42): Site, Is the current WIC logo on or above entrance?, Are accurate hours ...
[34mdate[39m  (1): Date"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m41[39m [1mColumns: [22m[34m6[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (5): variable, category, theme, improvement_phrase, refined_phrase
[32mdbl[39m (1): phase"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m1216[39m [1mColumns: [22m[34m4[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (1): Clinic
[32mdbl[39m  (2): Site, Participation
[34mdttm[39m (1): ...1"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m90462[39m [1mColumns: [22m[34m16[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (9): Ethnicity, Race, Gender, Status, Category, Street, Language, FamilyDurati...
[32mdbl[39m  (2): Site, ZIP
[34mdttm[39m (5): ModifiedOn, ModifiedOnFamily, CreatedOnFamily, CreatedOn, AcquisitionDate"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m195[39m [1mColumns: [22m[34m16[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m   (4): Role, Position, Location, Employee name
[32mdbl[39m   (1): Site
[33mlgl[39m  (10): Vacant, In training, WCS trainee, BFPC, IBCLC, RD, Part-time, Temp, Inte...
[34mdttm[39m  (1): Submission"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"2","[1mRows: [22m[34m16[39m [1mColumns: [22m[34m13[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (1): Location
[32mdbl[39m (12): Site, Participants, actual (clerk), target (clerk), vacant (clerk), actua..."
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","clinic_id = clinic_map %>%"
"0","  filter(Clinic == clinic_name) %>%"
"0","  pull(Site) %>%"
"0","  as.character"
"0",""
"0","## make sure poppins is installed locally"
"0","poppins_import()"
"1","[1]"
"1"," ""Poppins is already imported and registered."""
"1","
"
"0","set_cpal_defaults()"
"0",""
"0","bold_color <- function(text, color) {"
"0","  paste0(""<b style='color:"", color, ""'>"", text, ""</b>"")"
"0","}"
"0",""
"0","# high performance threshold for POEs (90%)"
"0","threshold = 0.9"
"0",""
"0","# fail threshold (50%)"
"0","fail = 0.5"
"0",""
"0","# maximum acceptable num. families in waiting room at once"
"0","maxFamiliesWaiting = 8"
"0",""
"0","# dynamic text prep"
"0","oxford_comma <- function(x) {"
"0","  if (length(x) > 2) {"
"0","    paste(paste(x[-length(x)], collapse="", ""), ""and"", x[length(x)])"
"0","  } else {"
"0","    paste(x, collapse="" and "")"
"0","  }"
"0","}"
"0",""
"0","current_date <- Sys.Date()"
"0","current_year <- as.integer(format(Sys.Date(), ""%Y""))"
"0","current_month <- as.integer(format(Sys.Date(), ""%m""))"
"0",""
